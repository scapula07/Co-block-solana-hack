{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst utils_1 = require(\"./utils\");\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\nconst jsbi_1 = __importDefault(require(\"jsbi\"));\nconst MAX_UINT64 = 0xFFFFFFFFFFFFFFFF;\nconst rotl = (x, k) => jsbi_1.default.bitwiseXor(jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(x, jsbi_1.default.BigInt(k))), jsbi_1.default.BigInt(jsbi_1.default.asUintN(64, jsbi_1.default.signedRightShift(x, jsbi_1.default.subtract(jsbi_1.default.BigInt(64), jsbi_1.default.BigInt(k))))));\nclass Xoshiro {\n  constructor(seed) {\n    this.next = () => {\n      return new bignumber_js_1.default(this.roll().toString());\n    };\n    this.nextDouble = () => {\n      return new bignumber_js_1.default(this.roll().toString()).div(MAX_UINT64 + 1);\n    };\n    this.nextInt = (low, high) => {\n      return Math.floor(this.nextDouble().toNumber() * (high - low + 1) + low);\n    };\n    this.nextByte = () => this.nextInt(0, 255);\n    this.nextData = count => [...new Array(count)].map(() => this.nextByte());\n    const digest = utils_1.sha256Hash(seed);\n    this.s = [jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0), jsbi_1.default.BigInt(0)];\n    this.setS(digest);\n  }\n  setS(digest) {\n    for (let i = 0; i < 4; i++) {\n      let o = i * 8;\n      let v = jsbi_1.default.BigInt(0);\n      for (let n = 0; n < 8; n++) {\n        v = jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(v, jsbi_1.default.BigInt(8)));\n        v = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseOr(v, jsbi_1.default.BigInt(digest[o + n])));\n      }\n      this.s[i] = jsbi_1.default.asUintN(64, v);\n    }\n  }\n  roll() {\n    const result = jsbi_1.default.asUintN(64, jsbi_1.default.multiply(rotl(jsbi_1.default.asUintN(64, jsbi_1.default.multiply(this.s[1], jsbi_1.default.BigInt(5))), 7), jsbi_1.default.BigInt(9)));\n    const t = jsbi_1.default.asUintN(64, jsbi_1.default.leftShift(this.s[1], jsbi_1.default.BigInt(17)));\n    this.s[2] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[2], jsbi_1.default.BigInt(this.s[0])));\n    this.s[3] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[3], jsbi_1.default.BigInt(this.s[1])));\n    this.s[1] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[1], jsbi_1.default.BigInt(this.s[2])));\n    this.s[0] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[0], jsbi_1.default.BigInt(this.s[3])));\n    this.s[2] = jsbi_1.default.asUintN(64, jsbi_1.default.bitwiseXor(this.s[2], jsbi_1.default.BigInt(t)));\n    this.s[3] = jsbi_1.default.asUintN(64, rotl(this.s[3], 45));\n    return result;\n  }\n}\nexports.default = Xoshiro;","map":{"version":3,"mappings":"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","names":["MAX_UINT64","rotl","x","k","jsbi_1","bitwiseXor","asUintN","leftShift","BigInt","signedRightShift","subtract","Xoshiro","constructor","seed","bignumber_js_1","roll","toString","div","low","high","Math","floor","nextDouble","toNumber","nextInt","count","Array","map","nextByte","digest","utils_1","s","setS","i","o","v","n","bitwiseOr","result","multiply","t","exports"],"sources":["/Users/user/Desktop/solana-hack-1/solana-payroll/node_modules/@ngraveio/bc-ur/src/xoshiro.ts"],"sourcesContent":["import { sha256Hash } from \"./utils\";\nimport BigNumber from 'bignumber.js'\nimport JSBI from 'jsbi'\n\nconst MAX_UINT64 = 0xFFFFFFFFFFFFFFFF;\nconst rotl = (x: JSBI, k: number): JSBI => JSBI.bitwiseXor(\n  JSBI.asUintN(64, JSBI.leftShift(x, JSBI.BigInt(k))),\n  JSBI.BigInt(\n    JSBI.asUintN(\n      64,\n      JSBI.signedRightShift(x, (JSBI.subtract(JSBI.BigInt(64), JSBI.BigInt(k))))\n    )\n  )\n);\n\nexport default class Xoshiro {\n  private s: JSBI[];\n\n  constructor(seed: Buffer) {\n    const digest = sha256Hash(seed);\n\n    this.s = [JSBI.BigInt(0), JSBI.BigInt(0), JSBI.BigInt(0), JSBI.BigInt(0)];\n    this.setS(digest);\n  }\n\n  private setS(digest: Buffer) {\n    for (let i = 0; i < 4; i++) {\n      let o = i * 8;\n      let v = JSBI.BigInt(0);\n      for (let n = 0; n < 8; n++) {\n        v = JSBI.asUintN(64, JSBI.leftShift(v, JSBI.BigInt(8)));\n        v = JSBI.asUintN(64, JSBI.bitwiseOr(v, JSBI.BigInt(digest[o + n])));\n      }\n      this.s[i] = JSBI.asUintN(64, v);\n    }\n  }\n\n  private roll(): JSBI {\n    const result = JSBI.asUintN(\n      64,\n      JSBI.multiply(\n        rotl(\n          JSBI.asUintN(64, JSBI.multiply(this.s[1], JSBI.BigInt(5))),\n          7\n        ),\n        JSBI.BigInt(9)\n      )\n    );\n\n    const t = JSBI.asUintN(64, JSBI.leftShift(this.s[1], JSBI.BigInt(17)));\n\n    this.s[2] = JSBI.asUintN(64, JSBI.bitwiseXor(this.s[2], JSBI.BigInt(this.s[0])));\n    this.s[3] = JSBI.asUintN(64, JSBI.bitwiseXor(this.s[3], JSBI.BigInt(this.s[1])));\n    this.s[1] = JSBI.asUintN(64, JSBI.bitwiseXor(this.s[1], JSBI.BigInt(this.s[2])));\n    this.s[0] = JSBI.asUintN(64, JSBI.bitwiseXor(this.s[0], JSBI.BigInt(this.s[3])));\n\n    this.s[2] = JSBI.asUintN(64, JSBI.bitwiseXor(this.s[2], JSBI.BigInt(t)));\n\n    this.s[3] = JSBI.asUintN(64, rotl(this.s[3], 45));\n\n    return result;\n  }\n\n  next = (): BigNumber => {\n    return new BigNumber(this.roll().toString())\n  }\n\n  nextDouble = (): BigNumber => {\n    return new BigNumber(this.roll().toString()).div(MAX_UINT64 + 1)\n  }\n\n  nextInt = (low: number, high: number): number => {\n    return Math.floor((this.nextDouble().toNumber() * (high - low + 1)) + low);\n  }\n\n  nextByte = () => this.nextInt(0, 255);\n\n  nextData = (count: number) => (\n    [...new Array(count)].map(() => this.nextByte())\n  )\n}\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}